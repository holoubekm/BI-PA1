<!--?xml version="1.0" encoding="utf-8" ?-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml-transitional.dtd">
<html><head>
  <title>holoumar@progtest.fit.cvut.cz - ProgTest</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link href="assignment_files/css.css" rel="stylesheet" type="text/css">
  <script src="assignment_files/shared.js" language="JavaScript" type="text/javascript"></script>
  
 </head>
 <body text="#000000" bgcolor="#828273">
  <table width="100%" cellspacing="0" cellpadding="0" border="0">
   <tbody><tr height="25">
    <td bgcolor="#00ff00" align="left"><span class="navLink"><a class="navLink" href="https://progtest.fit.cvut.cz/index.php?X=Main">ProgTest</a>&nbsp;&nbsp;►&nbsp;&nbsp;<a class="navLink" href="https://progtest.fit.cvut.cz/index.php?X=Course&amp;Cou=87">BI-PA1 (13/14 ZS)</a>&nbsp;&nbsp;►&nbsp;&nbsp;<a class="navLink" href="https://progtest.fit.cvut.cz/index.php?X=TaskGrp&amp;Cou=87&amp;Tgr=582">Domácí úloha 04</a>&nbsp;&nbsp;►&nbsp;&nbsp;<b>Zásobárna vody</b></span></td>
    <td bgcolor="#00ff00" align="right"><a class="navLink" href="https://progtest.fit.cvut.cz/index.php?X=Logout">Logout</a></td>
   </tr>
  </tbody></table>
<br>




 <br>
 <br>
   <center>
   <div class="topLayout">
    <div class="outBox">
     <table class="header" width="100%" cellspacing="0" cellpadding="0">
      <tbody><tr>
       <td class="header"><b>Zásobárna vody</b></td>
      </tr>
     </tbody></table>
    </div>
   </div>
  </center>
 <form name="form1" method="post" action="?X=TaskU&amp;Cou=87&amp;Tgr=582&amp;Tsk=980" enctype="multipart/form-data">
  <center>
    <div class="topLayout">
     <div class="outBox">
      <table id="maintable" width="100%" cellspacing="0" cellpadding="2" border="0">
       <colgroup><col width="200">
       <col>
       <col width="130">

       </colgroup><tbody><tr>
        <td class="ltCell" align="left"><b>Termín odevzdání:</b></td>
        <td class="tCell" align="left"><b>24.11.2013 23:59:59</b></td>
        <td class="rtCell" id="countdown" align="right">&nbsp;</td>
       </tr>

       <tr>
        <td class="lCell" align="left"><b>Pozdní odevzdání s penalizací:</b></td>
        <td class="rCell" colspan="2" align="left"><b>31.12.2013 23:59:59</b> (Penále za pozdní odevzdání: 100.0000 %)</td>
       </tr>

       <tr>
        <td class="lCell" align="left"><b>Hodnocení:</b></td>
        <td class="rCell" colspan="2" align="left"><b>8.5800</b></td>
       </tr>
       <tr>
        <td class="lCell" align="left"><b>Max. hodnocení:</b></td>
        <td class="rCell" colspan="2" align="left"><b>5.0000</b> (bez bonusů)</td>
       </tr>
       <tr>
        <td class="lCell" align="left"><b>Odevzdaná řešení:</b></td>
        <td class="rCell" colspan="2" align="left">1 /  20 Volné pokusy + 10 Penalizované pokusy (-10 % penalizace za každé odevzdání)</td>
       </tr>

       <tr>
        <td class="lbCell" align="left"><b>Nápovědy:</b></td>
        <td class="rbCell" colspan="2" align="left">0 / 2 Volné nápovědy + 2 Penalizované nápovědy (-10 % penalizace za každou nápovědu)</td>
       </tr>

       <tr>
        <td class="lrtbCell" colspan="3" align="left"><p>Úkolem je realizovat program, který umožní výpočet obsazení vodních nádrží.</p>

<p>Předpokládáme, že vodovodní společnost spravuje zásobníky na vodu. Každý zásobník má 
tvar kvádru a je propojen vodovodním potrubím s ostatními zásobníky. Celkem je takto 
propojeno mnoho zásobníků, víte, že jich je nejvýše 200000. Propojovací potrubí má 
pro účely výpočtu nulový objem. Situace je znázorněna na obrázku:</p>

<center><img src="assignment_files/index.png"></center>

<p>Program dostane takto definovanou síť zásobníků. Následuje zadání objemu vody 
obsaženého v zásobnících. Program určí nadmořskou výšku, do které bude sahat hladina vody.</p>

<p>Vstupem programu je počet zásobníků <tt>N</tt> (celé číslo). Pak následuje popis 
jednotlivých zásobníků. Zásobník je popsán čtveřicí celých čísel <tt>Alt H W D</tt>, 
kde <tt>Alt</tt> je nadmořská výška dna zásobníku, <tt>H</tt> je výška zásobníku, 
<tt>W</tt> je šířka zásobníku a <tt>D</tt> je hloubka zásobníku. Všechny velikosti 
jsou udané v metrech. Taková čtveřice je zadaná pro každý zásobník, na vstupu je tedy 
<tt>N</tt> čtveřic. Po zadání zásobníků následuje sekvence dotazů. Na vstupu jsou celá 
čísla udávající objem vody v zásobníku (v metrech kubických). Zadávání dotazů končí s koncem
vstupu (EOF).</p>

<p>Výstupem programu je nadmořská výška hladiny pro každý zadaný objem vody. Pokud je 
objem nulový, je odpovědí "Prazdne", pokud se voda do zásobníků nevejde, je odpovědí 
"Pretece". Formát odpovědí je zřejmý z ukázek níže.</p>

<p>Program musí kontrolovat správnost vstupních dat. Pokud je detekovaný nesprávný 
vstup, program zobrazí chybové hlášení a ukončí se. Za chybu je považováno:</p>

<ul>
 <li>počet zásobníků <tt>N</tt> nečíselný, záporný, nulový nebo větší než 200000,</li>
 <li>nečíselné zadání nadmořské výšky <tt>Alt</tt>,</li>
 <li>nečíselné, nulové nebo záporné rozměry zásobníku <tt>H, W</tt> nebo <tt>D</tt>,</li>
 <li>nečíselné nebo záporné zadání objemu uložené vody.</li>
</ul>

<p>Váš program bude spouštěn v omezeném testovacím prostředí. Je omezen
dobou běhu (limit je vidět v logu referenčního řešení) a dále je omezena i
velikost dostupné paměti. Testovací prostředí dále zakazuje používat některé
"nebezpečné funkce" -- funkce pro spouštění programu, pro práci se sítí, ...
Pokud jsou tyto funkce použité, program se nespustí. Možná ve svém programu 
používáte volání:</p>

<pre>int main ( int argc, char * argv [] )
{
 
  ...
     
  system ( "pause" ); /* aby se nezavrelo okno programu */
  return 0;
}
</pre>

<p>Toto nebude v testovacím prostředí fungovat - je zakázáno spouštění jiného
programu. (I pokud by se program spustil, byl by odmítnut. Nebyl by 
totiž nikdo, kdo by pauzu "odmáčkl", program by čekal věčně a překročil by
tak maximální dobu běhu.) Pokud tedy chcete zachovat pauzu pro testování na
Vašem počítači a zároveň chcete mít jistotu, že program poběží správně,    
použijte následující trik:</p>

<pre>int main ( int argc, char * argv [] )
{
 
  ...

#ifndef __PROGTEST__
  system ( "pause" ); /* toto progtest "nevidi" */
#endif /* __PROGTEST__ */
  return 0;
} 
</pre>

<p>V závislosti na zvoleném algoritmu může být úloha výpočetně náročnější.
Správně implementovaný naivní algoritmus projde všemi povinnými testy, tedy
bude hodnocen nominálním výsledkem 100 %. Pokud se rozhodnete implementovat
algoritmus efektivnější, který pracuje rychle i pro větší objem vstupních dat,
můžete získat body navíc za bonusové testy. V bonusových testech jsou zadávané
velké počty zásobníků a velké počty dotazů.</p>

<b>Ukázka práce programu:</b>
<hr>
<pre>Zadejte pocet nadrzi:
5
Zadejte parametry nadrzi:
0 3 2 2
0 5 1 2
0 2 3 3
4 10 1 1
20 5 1 1
Zadejte objem vody:
0
Prazdne.
3
h = 0.200000
10
h = 0.666667
32
h = 2.333333
50
h = 14.000000
1000
Pretece.
53
h = 23.000000
</pre>
<hr>
<pre>Zadejte pocet nadrzi:
3
Zadejte parametry nadrzi:
-2 10 1 1
0 6 3 3
2 2 5 5
Zadejte objem vody:
1
h = -1.000000
2
h = 0.000000
3
h = 0.100000
22
h = 2.000000
23
h = 2.028571
95
h = 4.300000
112
h = 6.000000
113
h = 7.000000
114
h = 8.000000
115
Pretece.
</pre>
<hr>
<pre>Zadejte pocet nadrzi:
5
Zadejte parametry nadrzi:
0 5 1 1
0 5 2 2
2 3 3 3
2 5 4 4
2 5 5 5
Zadejte objem vody:
100
h = 3.636364
50
h = 2.727273
-30
Nespravny vstup.
</pre>
<hr>
<pre>Zadejte pocet nadrzi:
5
Zadejte parametry nadrzi:
0 5 1 abcd
Nespravny vstup.
</pre>
</td>
       </tr>












      </tbody></table>
     </div>
    </div>


 <br>
 <div class="topLayout">
  <div class="outBox">
   <table id="reftable" width="100%" cellspacing="0" cellpadding="2" border="0">
   <tbody><tr>
    <td class="ltbSepCell" align="left"><input name="SHOW_REF" onchange="showRefSolution()" type="checkbox">&nbsp;<b>Referenční řešení</b></td>
    <td class="rtbSepCell" align="right">&nbsp;</td>
   </tr>
   <tr style="display: none;">
    <td class="lrtbCell" colspan="2" align="left"><ul><li><b>Hodnotitel: automat</b><ul><li>Program zkompilován</li><li>Test 'Základní test s parametry podle ukázky': Úspěch<ul><li>Dosaženo: 100.00 %, požadováno: 100.00 %</li><li>Max doba běhu: 0.006 s (limit: 1.000 s)</li><li>Celková doba běhu: 0.022 s</li><li>Využití paměti: 21092 KiB (limit: 35822 KiB)</li><li>Úspěch v závazném testu, hodnocení: 100.00 %</li></ul></li>
<li>Test 'Test mezních hodnot': Úspěch<ul><li>Dosaženo: 100.00 %, požadováno: 50.00 %</li><li>Max doba běhu: 0.005 s (limit: 1.000 s)</li><li>Celková doba běhu: 0.026 s</li><li>Využití paměti: 21092 KiB (limit: 35822 KiB)</li><li>Úspěch v závazném testu, hodnocení: 100.00 %</li></ul></li>
<li>Test 'Test ošetření nesprávných vstupních dat': Úspěch<ul><li>Dosaženo: 100.00 %, požadováno: 50.00 %</li><li>Max doba běhu: 0.005 s (limit: 1.000 s)</li><li>Celková doba běhu: 0.088 s</li><li>Využití paměti: 21092 KiB (limit: 35822 KiB)</li><li>Úspěch v závazném testu, hodnocení: 100.00 %</li></ul></li>
<li>Test 'Test náhodnými daty': Úspěch<ul><li>Dosaženo: 100.00 %, požadováno: 50.00 %</li><li>Max doba běhu: 0.007 s (limit: 5.000 s)</li><li>Celková doba běhu: 0.057 s</li><li>Využití paměti: 21092 KiB (limit: 35822 KiB)</li><li>Úspěch v závazném testu, hodnocení: 100.00 %</li></ul></li>
<li>Test 'Test většími náhodnými daty (bonus)': Úspěch<ul><li>Dosaženo: 100.00 %, požadováno: 100.00 %</li><li>Max doba běhu: 0.106 s (limit: 2.000 s)</li><li>Celková doba běhu: 0.338 s</li><li>Využití paměti: 21092 KiB (limit: 35822 KiB)</li><li>Úspěch v bonusovém testu, hodnocení: 120.00 %</li></ul></li>
<li>Test 'Test ještě většími náhodnými daty (bonus)': Úspěch<ul><li>Dosaženo: 100.00 %, požadováno: 100.00 %</li><li>Max doba běhu: 1.479 s (limit: 5.000 s)</li><li>Celková doba běhu: 1.479 s</li><li>Využití paměti: 24216 KiB (limit: 35822 KiB)</li><li>Úspěch v bonusovém testu, hodnocení: 130.00 %</li></ul></li>
<li>Celkové hodnocení: 156.00 % (= 1.00 * 1.00 * 1.00 * 1.00 * 1.20 * 1.30)</li></ul></li><li>Celkové procentní hodnocení: 156.00 %</li><li>Bonus za včasné odevzdání: 0.50</li><li>Celkem bodů: 1.56 * ( 5.00 + 0.50 ) = 8.58</li></ul></td>
   </tr>
    <tr style="display: none;">
  <td class="ltbCell" align="left"><b>SW metriky:</b></td>
  <td class="rtbCell" colspan="2" align="left">
   <table cellpadding="2" border="0">
    <tbody><tr>
     <td>&nbsp;</td>
     <td class="ac">Celkem</td>
     <td class="ac">Průměr</td>
     <td class="ac">Maximum</td>
     <td>Jméno funkce</td>
    </tr>
    <tr>
     <td>Funkce:</td>
     <td class="ar"><b>7</b></td>
     <td class="ar">--</td>
     <td class="ar">--</td>
     <td>--</td>
    </tr>
    <tr>
     <td>Řádek kódu:</td>
     <td class="ar"><b>145</b></td>
     <td class="ar"><span class="textOk">20.71 ± 12.67</span></td>
     <td class="ar"><span class="textOk">49</span></td>
     <td><tt>prepareReservoirs(TReservoir *,int,TPrecomp *,int *)</tt></td>
    </tr>
    <tr>
     <td>Cyklomatická složitost:</td>
     <td class="ar"><b>46</b></td>
     <td class="ar"><span class="textOk">6.57 ± 3.42</span></td>
     <td class="ar"><span class="textOk">11</span></td>
     <td><tt>prepareReservoirs(TReservoir *,int,TPrecomp *,int *)</tt></td>
    </tr>
   </tbody></table>
  </td>
 </tr>
   </tbody></table>
  </div>
 </div>




 <br>
 <div class="topLayout">
  <div class="outBox">
   <table id="maintable" width="100%" cellspacing="0" cellpadding="2" border="0">
    <colgroup><col width="200">
    <col>
    <col width="130">

   </colgroup><tbody><tr>
    <td class="ltbOkSepCell" align="left"><b>1</b></td>
    
    
   </tr>
   <tr>
    <td class="ltCell" align="left"><b>Stav odevzdání:</b></td>
    <td class="tCell" align="left">Ohodnoceno</td>



    <td class="rtbCell" rowspan="2">&nbsp;</td>


   </tr>

   <tr>
    <td class="lbCell" align="left"><b>Hodnocení:</b></td>
    <td class="bCell" align="left">8.5800</td>
   </tr>   <tr>
    <td class="lrtbCell" colspan="3" align="left"><ul><li><b>Hodnotitel: automat</b><ul><li>Program zkompilován</li><li>Test 'Základní test s parametry podle ukázky': Úspěch<ul><li>Dosaženo: 100.00 %, požadováno: 100.00 %</li><li>Max doba běhu: 0.006 s (limit: 1.000 s)</li><li>Celková doba běhu: 0.021 s</li><li>Využití paměti: 11720 KiB (limit: 35822 KiB)</li><li>Úspěch v závazném testu, hodnocení: 100.00 %</li></ul></li>
<li>Test 'Test mezních hodnot': Úspěch<ul><li>Dosaženo: 100.00 %, požadováno: 50.00 %</li><li>Max doba běhu: 0.006 s (limit: 1.000 s)</li><li>Celková doba běhu: 0.025 s</li><li>Využití paměti: 11720 KiB (limit: 35822 KiB)</li><li>Úspěch v závazném testu, hodnocení: 100.00 %</li></ul></li>
<li>Test 'Test ošetření nesprávných vstupních dat': Úspěch<ul><li>Dosaženo: 100.00 %, požadováno: 50.00 %</li><li>Max doba běhu: 0.005 s (limit: 1.000 s)</li><li>Celková doba běhu: 0.082 s</li><li>Využití paměti: 11720 KiB (limit: 35822 KiB)</li><li>Úspěch v závazném testu, hodnocení: 100.00 %</li></ul></li>
<li>Test 'Test náhodnými daty': Úspěch<ul><li>Dosaženo: 100.00 %, požadováno: 50.00 %</li><li>Max doba běhu: 0.007 s (limit: 5.000 s)</li><li>Celková doba běhu: 0.054 s</li><li>Využití paměti: 11720 KiB (limit: 35822 KiB)</li><li>Úspěch v závazném testu, hodnocení: 100.00 %</li></ul></li>
<li>Test 'Test většími náhodnými daty (bonus)': Úspěch<ul><li>Dosaženo: 100.00 %, požadováno: 100.00 %</li><li>Max doba běhu: 0.108 s (limit: 2.000 s)</li><li>Celková doba běhu: 0.344 s</li><li>Využití paměti: 11720 KiB (limit: 35822 KiB)</li><li>Úspěch v bonusovém testu, hodnocení: 120.00 %</li></ul></li>
<li>Test 'Test ještě většími náhodnými daty (bonus)': Úspěch<ul><li>Dosaženo: 100.00 %, požadováno: 100.00 %</li><li>Max doba běhu: 1.506 s (limit: 5.000 s)</li><li>Celková doba běhu: 1.506 s</li><li>Využití paměti: 11720 KiB (limit: 35822 KiB)</li><li>Úspěch v bonusovém testu, hodnocení: 130.00 %</li></ul></li>
<li>Celkové hodnocení: 156.00 % (= 1.00 * 1.00 * 1.00 * 1.00 * 1.20 * 1.30)</li></ul></li><li>Použité nápovědy: 2</li><li>Penalizace za vyčerpané nápovědy: Není (2 &lt;= 2 limit)</li><li>Celkové procentní hodnocení: 156.00 %</li><li>Bonus za včasné odevzdání: 0.50</li><li>Celkem bodů: 1.56 * ( 5.00 + 0.50 ) = 8.58</li></ul></td>
   </tr> <tr>
  <td class="ltbCell" align="left"><b>SW metriky:</b></td>
  <td class="rtbCell" colspan="2" align="left">
   <table cellpadding="2" border="0">
    <tbody><tr>
     <td>&nbsp;</td>
     <td class="ac">Celkem</td>
     <td class="ac">Průměr</td>
     <td class="ac">Maximum</td>
     <td>Jméno funkce</td>
    </tr>
    <tr>
     <td>Funkce:</td>
     <td class="ar"><b>6</b></td>
     <td class="ar">--</td>
     <td class="ar">--</td>
     <td>--</td>
    </tr>
    <tr>
     <td>Řádek kódu:</td>
     <td class="ar"><b>131</b></td>
     <td class="ar"><span class="textOk">21.83 ± 12.99</span></td>
     <td class="ar"><span class="textOk">42</span></td>
     <td><tt>ComputeWaterLevel(int)</tt></td>
    </tr>
    <tr>
     <td>Cyklomatická složitost:</td>
     <td class="ar"><b>31</b></td>
     <td class="ar"><span class="textOk">5.17 ± 4.84</span></td>
     <td class="ar"><span class="textOk">14</span></td>
     <td><tt>LoadFromSTDIN()</tt></td>
    </tr>
   </tbody></table>
  </td>
 </tr>   </tbody></table>
  </div>
 </div> <br>
  
  
  
  
 
  </center>
 </form>








<script language="javascript" type="text/javascript">
<!--

var deadLine = new Date ( 1385333999 * 1000 );

function CBpressed ( num )
 {
   var pre, cb;

   cb = MM_findObj ( "cb_" + num );
   pre = MM_findObj ( "pre_" + num );
   if ( cb != null && pre != null )
    {
      pre . style . display = cb . checked ? "block" : "none";
    }
 }

function unlockAdvice ( url )
 {
   if ( confirm ( 'Máte k dispozici pouze omezený počet nápověd. Navíc, použití nápovědy může snížit bodové hodnocení. Opravdu chcete zpřístupnit tuto nápovědu?' ) )
    this . location = url;
 }

function setCountdown ( )
 {
   var d = new Date ();
   var x = ( deadLine . getTime () - d . getTime () );
   var tgt = document . getElementById ( "countdown" );

   if ( x > 0 )
    {
      var s = Math . floor ( x / 1000 );
      var ms = (x % 1000) + "";

      while ( ms . length  < 3 ) ms = "0" + ms;

      tgt . innerHTML = s + "." + ms + " sec";

      window . setTimeout ( setCountdown, 117 );
    }
   else
    {
      tgt . innerHTML = '&nbsp;';
    }
 }

function showRefSolution ( )
 {
   var t = document . getElementById ( "reftable" );
   var x = document . getElementsByName ( "SHOW_REF" )[0];

   if ( ! x ) return;
   var r1 = t . rows[1], r2 = t . rows[2];

   if ( x . checked )
    {
      r1 . style . display = "";
      if ( r2 ) r2 . style . display = "";
    }
   else
    {
      r1 . style . display = "none";
      if ( r2 ) r2 . style . display = "none";
    }
 }


setCountdown ();
showRefSolution ();

// -->
</script>





 


</body></html>
<!-- Template run time: 0.19018197059631 sec -->